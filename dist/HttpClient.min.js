!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).HttpClient=e()}}(function(){return function s(i,u,c){function l(t,e){if(!u[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(a)return a(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var o=u[t]={exports:{}};i[t][0].call(o.exports,function(e){return l(i[t][1][e]||e)},o,o.exports,s,i,u,c)}return u[t].exports}for(var a="function"==typeof require&&require,e=0;e<c.length;e++)l(c[e]);return l}({1:[function(e,t,n){var r=e(37);function o(){this.cancelled=!1,this.callbacks=[]}o.prototype.cancel=function(){var e=this.callbacks,t=0,n=e.length;if(!1===this.cancelled)for(this.cancelled=!0;t<n;t+=1)try{e[t]()}catch(e){!function(e){setTimeout(function(){throw e})}(e)}},o.prototype.isCancelled=function(){return this.cancelled},o.prototype.registerCancelCallback=function(e){r(e)&&this.callbacks.push(e)},t.exports=o},{37:37}],2:[function(e,t,n){var o=e(39),s=e(37),i=e(38),r=e(42),u=e(35),c=e(28),l=e(25),a=e(33),p=e(34),f=e(32),h=e(31),d=e(27),R=e(26),y=e(1),E=e(3),v=e(4),x=e(5),O=e(6),m=e(7),C=e(8),T=e(9),b=e(10),w=e(11),N="0.0.1-alpha.2";function g(e,t,n){var r=d();i(e)&&o(r,e),s(t)&&(t(r),r=o({},r)),s(n)||(n=f),this.copyOptions=function(){return o({},r)},this.mergeOptions=function(e){var t=o({},r,e);return n(t),t}}g.prototype.send=function(e,t,n){var r=this.mergeOptions(e);return r.requestFunctionName="send",r.controller=null,new E(r,t,n)},g.prototype.fetch=function(e){var r=this.mergeOptions(e),o=r.controller;return r.requestFunctionName="fetch",new Promise(function(t,e){var n=new E(r,function(e){o&&o.isCancelled()||t(e)},e);o&&(o.isCancelled()?n.cancel():o.registerCancelCallback(function(){n.cancel()}))})},g.prototype.getJSONP=function(e,t,n){var r=this.mergeOptions(e);return r.requestFunctionName="getJSONP",r.controller=null,new O(r,t,n)},g.prototype.fetchJSONP=function(e){var r=this.mergeOptions(e),o=r.controller;return r.requestFunctionName="fetchJSONP",new Promise(function(t,e){var n=new O(r,function(e){o&&o.isCancelled()||t(e)},e);o&&(o.isCancelled()?n.cancel():o.registerCancelCallback(function(){n.cancel()}))})},g.prototype.createCancelController=R,g.createCancelController=R,g.version=N,g.prototype.version=N,c(g,"constants",o({},l)),c(g,"libs",{QS:r}),c(g,"classes",{CancelController:y,HttpClient:g,HttpRequest:E,HttpResponse:v,HttpResponseError:x,JSONPRequest:O,JSONPResponse:m,JSONPResponseError:C,Request:T,Response:b,ResponseError:w}),c(g,"functions",{template:a,merge:o,isAbsoluteURL:u,isFunction:s,isPlainObject:i,uuid:p,noop:f,inherits:h,createDefaultOptions:d}),t.exports=g},{1:1,10:10,11:11,25:25,26:26,27:27,28:28,3:3,31:31,32:32,33:33,34:34,35:35,37:37,38:38,39:39,4:4,42:42,5:5,6:6,7:7,8:8,9:9}],3:[function(e,t,n){var i=e(9),u=e(25),r=e(31),c=e(23),l=e(30),a=e(24),p=e(12),f=e(17),h=e(15),d=e(16),R=e(14);function o(e,t,n){var r,o,s;i.call(this,u.HTTP_REQUEST,e,t,n),l(e),this.xhr=r=e.createXHR.call(null,e),o=d(e),s=c(e),f(r,e),R(e.onXhrCreated,r,e),p(this),r.open(e.method||"GET",s,!0,e.username,e.password),R(e.onXhrOpened,r,e),h(r,e),r.send(o),R(e.onXhrSent,r,e),a(e,this)}r(o,i),t.exports=o},{12:12,14:14,15:15,16:16,17:17,23:23,24:24,25:25,30:30,31:31,9:9}],4:[function(e,t,n){var r=e(10),o=e(31),s=e(22);function i(e){r.call(this,e),s(this,e.options,"httpResponseParser")}o(i,r),t.exports=i},{10:10,22:22,31:31}],5:[function(e,t,n){var r=e(11),o=e(31),s=e(22);function i(e,t){r.call(this,e,t),s(this,t.options,"httpResponseErrorParser")}o(i,r),t.exports=i},{11:11,22:22,31:31}],6:[function(e,t,n){var u=e(9),c=e(25),r=e(31),l=e(30),a=e(24),p=e(18),f=e(19),h=e(21),d=e(20);function o(e,t,n){var r,o,s,i;u.call(this,c.JSONP_REQUEST,e,t,n),l(e),o=this.script=e.createScript.call(null,e),i=e.jsonpContainerNode.call(null,e),s=f(e),r=d(e,s),o.setAttribute("src",r),h(o,e),p(this,s),i.appendChild(o),a(e,this)}r(o,u),t.exports=o},{18:18,19:19,20:20,21:21,24:24,25:25,30:30,31:31,9:9}],7:[function(e,t,n){var r=e(10),o=e(31),s=e(22);function i(e){r.call(this,e),s(this,e.options,"jsonpResponseParser")}o(i,r),t.exports=i},{10:10,22:22,31:31}],8:[function(e,t,n){var r=e(11),o=e(31),s=e(22);function i(e,t){r.call(this,e,t),s(this,t.options,"jsonpResponseErrorParser")}o(r,i),t.exports=i},{11:11,22:22,31:31}],9:[function(e,t,n){var o=e(34);t.exports=function(e,t,n,r){this.errorCode=null,this.xhr=null,this.script=null,this.finished=!1,this.responseJSON=null,this.requestId=o(),this.requestType=e,this.options=t,this.requestFunctionName=t.requestFunctionName,this.controller=t.controller||null,this.onsuccess=n||null,this.onerror=r||null,t.requestType=e}},{34:34}],10:[function(e,t,n){t.exports=function(e){this.request=e}},{}],11:[function(e,t,n){var r={ERR_ABORTED:"Request aborted",ERR_CANCELLED:"Request cancelled",ERR_NETWORK:"Network error",ERR_RESPONSE:"Response error",ERR_TIMEOUT:"Request timeout"};t.exports=function(e,t){var n;r[e=e||"ERR_UNKNOWN"]&&(n=r[e]),n=n||"Unknown error "+e,t.errorCode=e,this.code=e,this.request=t,this.message=n}},{}],12:[function(e,t,n){var p=e(37),f=e(4),h=e(13),d=e(29),R=e(32),r=e(25),y=r.ERR_ABORTED,E=r.ERR_CANCELLED,v=r.ERR_NETWORK,x=r.ERR_RESPONSE,O=r.ERR_TIMEOUT;t.exports=function(t){var e=t.xhr,n=t.options,r=t.requestType,o=new f(t),s=n.isResponseOk,i=null,u=parseInt(n.timeout||0,10),c=function(){if(l(),e.abort)try{e.abort()}catch(e){}a(E)},l=function(){l=R,e.onabort=null,e.onerror=null,e.onreadystatechange=null,e.ontimeout=null,i&&(i(),i=null)},a=function(e){c=a=R,t.finished=!0,l(),d(e,o)};e.onabort=function(){a(y)},e.onerror=function(){a(v)},e.onreadystatechange=function(){4==+e.readyState&&(p(s)?s(r,o)?a(null):a(x):a(null))},t.cancel=function(){c()},!isNaN(u)&&0<u&&(i=h(e,u,function(){if(l(),e.abort)try{e.abort()}catch(e){}a(O)}))}},{13:13,25:25,29:29,32:32,37:37,4:4}],13:[function(e,t,n){t.exports=function(e,t,n){var r=null;return"timeout"in e&&"ontimeout"in e?(e.timeout=t,e.ontimeout=n):r=setTimeout(n,t),function(){e&&(null===r?e.ontimeout=null:clearTimeout(r),n=e=null)}}},{}],14:[function(e,t,n){var r=e(37);t.exports=function(e,t,n){r(e)&&e(t,n)}},{37:37}],15:[function(e,t,n){var s=e(39),i=e(38),u=Object.prototype.hasOwnProperty;t.exports=function(e,t){var n,r,o=i(t.headers)?t.headers:{};for(n in t.noCache&&i(t.noCacheHeaders)&&(o=s(o,t.noCacheHeaders)),o)u.call(o,n)&&null!=(r=o[n])&&e.setRequestHeader(n,r);t.headers=o}},{38:38,39:39}],16:[function(e,t,n){var p=e(39),f=e(37),h=e(38),d=Object.prototype.hasOwnProperty;t.exports=function(e){var t,n,r,o,s,i=null,u=[],c=e.body,l=e.httpRequestBodyProcessor,a=h(e.headers)?e.headers:{};if(h(c)&&h(l)){for(r in l)d.call(l,r)&&(o=l[r],h(o)&&u.push({key:r,headers:o.headers,priority:o.priority,processor:o.processor}));for(u.sort(function(e,t){return t.priority-e.priority}),t=0,n=u.length;t<n;t+=1)if(void 0!==c[(o=u[t]).key]){i=c[o.key],s=o;break}s&&(h(s.headers)&&(a=p(a,s.headers)),o=s.processor,f(o)&&(i=o(i,e)))}return e.headers=a,i}},{37:37,38:38,39:39}],17:[function(e,t,n){var o=e(38),s=Object.prototype.hasOwnProperty;t.exports=function(e,t){var n,r=t.xhrProps;if(t.cors&&(e.withCredentials=!0),o(r))for(n in r)s.call(r,n)&&(e[n]=r[n])}},{38:38}],18:[function(e,t,n){var a=e(37),p=e(7),f=e(29),h=e(32),r=e(25),d=r.ERR_CANCELLED,R=r.ERR_NETWORK,y=r.ERR_RESPONSE,E=r.ERR_TIMEOUT;t.exports=function(t,n){var r=t.script,e=t.options,o=t.requestType,s=e.isResponseOk,i=new p(t),u=parseInt(e.timeout||0,10),c=null,l=function(e){l=h,t.finished=!0,window[n]=h,(r.onerror=null)!==c&&(clearTimeout(c),c=null),f(e,i)};window[n]=function(e){t.responseJSON=e,a(s)?s(o,i)?l(null):l(y):l(null)},r.onerror=function(){l(R)},t.cancel=function(){l(d)},!isNaN(u)&&0<u&&(c=setTimeout(function(){l(E)},u))}},{25:25,29:29,32:32,37:37,7:7}],19:[function(e,t,n){t.exports=function(e){for(var t;(t=e.jsonpCallbackName.call(null,e))in window;);return window[t]=null,t}},{}],20:[function(e,t,n){var o=e(23);t.exports=function(e,t){var n=e.query,r=e.jsonp;return n||(n={},e.query=n),n[r]=t,o(e)}},{23:23}],21:[function(e,t,n){t.exports=function(e,t){t.cors&&e.setAttribute("crossorigin","use-credentials")}},{}],22:[function(e,t,n){var i=e(38),u=e(37),c=Object.prototype.hasOwnProperty;t.exports=function(e,t,n){var r,o,s=t[n];if(i(s))for(r in s)if(c.call(s,r)&&(o=s[r],u(o))){if(r in e)throw new Error('The name "'+r+'" has already existed, can not add it as a parser');e[r]=o}}},{37:37,38:38}],23:[function(e,t,n){var c=e(37),l=e(35),a=e(38);t.exports=function(e){var t,n="string"==typeof e.url?e.url:"",r=e.baseURL,o=e.param,s=e.query,i=e.compileURL,u=e.encodeQueryString;return l(n)||"string"==typeof r&&(n=r+n),a(o)&&c(i)&&(n=i(n,o,e)),a(s)&&c(u)&&(s=u(s,e),-1<(n=(t=n.split("#"))[0]).indexOf("?")?/&+$/.test(n)?n+=s:n=n+"&"+s:n=n+"?"+s,t[0]=n,n=t.join("#")),n}},{35:35,37:37,38:38}],24:[function(e,t,n){var r=e(37);t.exports=function(e,t){var n=e.onRequestCreated;r(n)&&n(t)}},{37:37}],25:[function(e,t,n){n.ERR_ABORTED="ERR_ABORTED",n.ERR_RESPONSE="ERR_RESPONSE",n.ERR_CANCELLED="ERR_CANCELLED",n.ERR_NETWORK="ERR_NETWORK",n.ERR_TIMEOUT="ERR_TIMEOUT",n.HTTP_REQUEST="HTTP_REQUEST",n.JSONP_REQUEST="JSONP_REQUEST"},{}],26:[function(e,t,n){var r=e(1);t.exports=function(){return new r}},{1:1}],27:[function(e,t,n){var r=e(42),o=e(25),s=e(33),i=e(34),u=o.HTTP_REQUEST;t.exports=function(){return{method:"GET",baseURL:null,url:null,param:null,query:null,headers:null,body:null,extra:{},controller:null,requestFunctionName:null,requestType:null,cors:!1,xhrProps:null,username:null,password:null,timeout:0,noCache:!1,noCacheHeaders:{Pragma:"no-cache","Cache-Control":"no-cache, no-store, must-revalidate"},jsonp:"callback",httpRequestBodyProcessor:{raw:{priority:0,headers:null,processor:null},form:{priority:1,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},processor:function(e,t){return r.encode(e)}},json:{priority:2,headers:{"Content-Type":"application/json; charset=UTF-8"},processor:function(e,t){return JSON.stringify(e)}}},httpResponseParser:{json:function(){var e=this.request.xhr.responseText;return e?JSON.parse(e):null},text:function(){return this.request.xhr.responseText},status:function(){return this.request.xhr.status}},jsonpResponseParser:{json:function(){return this.request.responseJSON}},httpResponseErrorParser:null,jsonpResponseErrorParser:null,handleOptions:null,createXHR:function(e){return new XMLHttpRequest},createScript:function(e){var t=document.createElement("script");return t.setAttribute("type","text/javascript"),t.setAttribute("charset","utf-8"),t},jsonpContainerNode:function(e){return document.head||document.getElementsByName("head")[0]},jsonpCallbackName:function(e){return"jsonp_"+i()+"_"+(new Date).getTime()},compileURL:function(e,t,n){return s(e,t)},encodeQueryString:function(e,t){return r.encode(e)},onXhrCreated:null,onXhrOpened:null,onXhrSent:null,onRequestCreated:null,isResponseOk:function(e,t){var n;return e!==u||(200<=(n=t.request.xhr.status)&&n<300||304===n)},transformError:null,transformResponse:null,shouldCallErrorCallback:null,shouldCallSuccessCallback:null}}},{25:25,33:33,34:34,42:42}],28:[function(e,t,n){t.exports=function(e,t,n){if("function"!=typeof e||!e.prototype)throw new Error("The constructor is not a function or its prototype is not an object");if(e.exports=e.exports||{},t in e.exports)throw new Error('The name "'+t+'" has already existed in the constructor.exports');if(e.prototype.exports&&e.prototype.exports!==e.exports)throw new Error('The name "exports" has already existed in the constructor.prototype');e.prototype.exports=e.exports,e.exports[t]=n}},{}],29:[function(e,t,n){var y=e(37),E=e(5),v=e(8),x=e(25).HTTP_REQUEST;t.exports=function(e,t){var n=t.request,r=n.requestType,o=n.options,s=n.onsuccess,i=n.onerror,u=o.shouldCallErrorCallback,c=o.shouldCallSuccessCallback,l=o.transformError,a=o.transformResponse,p=null,f=!0,h=!0,d=null,R=null;e?(p=r===x?new E(e,n):new v(e,n),d=y(l)?l(r,p):p,y(u)&&(f=u(r,d,p)),f&&y(i)&&i(d)):(R=y(a)?a(r,t):t,y(c)&&(h=c(r,R,t)),h&&y(s)&&s(R))}},{25:25,37:37,5:5,8:8}],30:[function(e,t,n){var r=e(37);t.exports=function(e){r(e.handleOptions)&&e.handleOptions(e)}},{37:37}],31:[function(e,t,n){t.exports=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],32:[function(e,t,n){t.exports=function(){}},{}],33:[function(e,t,n){t.exports=function(e,t){var n=[],r=null,o=/(^|[^\\])\{([^\{\}]*[^\\])?\}/;for(e=""+e,t=t||{};r=o.exec(e);){var s=r.index,i=r[0],u=r[1],c=r[2];c=(c||"").replace(/^\s+|\s+$/g,""),n.push(e.substr(0,s+u.length)),n.push(""+t[c]),e=e.substr(s+i.length),o.lastIndex=0}return n.push(e),n=(n=(n=n.join("")).replace(/\\\{/g,"{")).replace(/\\\}/g,"}")}},{}],34:[function(e,t,n){var r=0;t.exports=function(){return r+=1}},{}],35:[function(e,t,n){t.exports=function(e){return/^(?:[a-z][a-z0-9\-\.\+]*:)?\/\//i.test(e)}},{}],36:[function(e,t,n){var r=Object.prototype.toString;t.exports=function(e){return"[object Array]"===r.call(e)}},{}],37:[function(e,t,n){var r=Object.prototype.toString;t.exports=function(e){return"[object Function]"===r.call(e)}},{}],38:[function(e,t,n){var r=Object.prototype.toString;t.exports=function(e){return!!e&&(("undefined"==typeof window||e!==window)&&(("undefined"==typeof global||e!==global)&&"[object Object]"===r.call(e)))}},{}],39:[function(e,t,n){var o=e(36),s=e(38),i=Object.prototype.hasOwnProperty,u=Array.prototype.slice;function c(e,t){var n,r;if(e&&(o(t)||s(t)))for(n in t)i.call(t,n)&&void 0!==(r=t[n])&&(s(r)?(s(e[n])||(e[n]={}),l(e[n],r)):o(r)?(o(e[n])||(e[n]=[]),l(e[n],r)):e[n]=r);return e}function l(e,t){var n=0,r=arguments.length-1;for(t=u.call(arguments,1),n=0;n<r;n+=1)c(e,t[n]);return e}t.exports=l},{36:36,38:38}],40:[function(e,t,n){var f=e(43).isArray,h=function(e,t,n,r){var o,s,i,u,c,l,a,p=/\[([^\[]*?)?\]$/;if(p.test(n)){if(o=RegExp.$1,i=t[s=n.replace(p,"")],u=""===o,c=/(^0$)|(^[1-9]\d*$)/.test(o)||u,i){if(!c&&f(i))for(a=(l=i).length,i={};a--;)void 0!==i[a]&&(i[a]=l[a])}else i=c?[]:{};u&&f(i)?i.push(r):i[o]=r,t[s]=i,h(e,t,s,i)}else e[n]=r};n.decode=function(e){var t,n,r,o,s,i,u={},c={};if(e&&"string"==typeof e)for(n=0,r=(t=e.split("&")).length;n<r;)o=t[n].split("="),s=decodeURIComponent(o[0]),i="string"==typeof(i=o[1])?decodeURIComponent(i):null,h(u,c,s,i),n+=1;return u}},{43:43}],41:[function(e,t,n){var r=e(43),l=r.isArray,a=r.isObject,p=Object.prototype.hasOwnProperty,f=function(e,t,n,r){var o,s,i,u,c;if(a(t))for(o in t)p.call(t,o)&&(u=t[o],f(c=e+"["+o+"]",u,n,r));else if(l(t))for(s=0,i=t.length;s<i;)u=t[s],c=r||l(u)||a(u)?e+"["+s+"]":e+"[]",f(c,u,n,r),s+=1;else e=encodeURIComponent(e),u=null===t?e:(void 0===t?t="":"string"!=typeof t&&(t=""+t),e+"="+encodeURIComponent(t)),n.push(u)};n.encode=function(e,t){var n,r=[];if(t=!!t,a(e))for(n in e)p.call(e,n)&&f(n,e[n],r,t);return r.join("&")}},{43:43}],42:[function(e,t,n){var r=e(41).encode,o=e(40).decode;n.encode=r,n.decode=o,n.version="1.1.2"},{40:40,41:41}],43:[function(e,t,n){var r=Object.prototype.toString;n.isArray=function(e){return"[object Array]"===r.call(e)},n.isObject=function(e){return"[object Object]"===r.call(e)}},{}]},{},[2])(2)});